(this["webpackJsonpreact-music"]=this["webpackJsonpreact-music"]||[]).push([[6],{527:function(e,t,r){var n=r(528);"string"===typeof n&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};r(18)(n,a);n.locals&&(e.exports=n.locals)},528:function(e,t,r){(e.exports=r(17)(!1)).push([e.i,".search .search-box-wrapper {\n  margin: 20px;\n}\n.search .shortcut-wrapper {\n  position: fixed;\n  top: 178px;\n  bottom: 0;\n  width: 100%;\n}\n.search .shortcut-wrapper .shortcut {\n  height: calc(100vh - 240px);\n  overflow: hidden;\n}\n.search .shortcut-wrapper .shortcut .hot-key {\n  margin: 0 20px 20px 20px;\n}\n.search .shortcut-wrapper .shortcut .hot-key .title {\n  margin-bottom: 20px;\n  font-size: 14px;\n  color: rgba(255,255,255,0.5);\n}\n.search .shortcut-wrapper .shortcut .hot-key .item {\n  display: inline-block;\n  padding: 5px 10px;\n  margin: 0 20px 10px 0;\n  border-radius: 6px;\n  background: #333;\n  font-size: 14px;\n  color: rgba(255,255,255,0.3);\n}\n.search .shortcut-wrapper .shortcut .search-history {\n  position: relative;\n  margin: 0 20px;\n}\n.search .shortcut-wrapper .shortcut .search-history .title {\n  display: flex;\n  align-items: center;\n  height: 40px;\n  font-size: 14px;\n  color: rgba(255,255,255,0.5);\n}\n.search .shortcut-wrapper .shortcut .search-history .title .text {\n  flex: 1;\n}\n.search .shortcut-wrapper .shortcut .search-history .title .clear {\n  position: relative;\n}\n.search .shortcut-wrapper .shortcut .search-history .title .clear:before {\n  content: '';\n  position: absolute;\n  top: -10px;\n  left: -10px;\n  right: -10px;\n  bottom: -10px;\n}\n.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear {\n  font-size: 14px;\n  color: rgba(255,255,255,0.3);\n}\n.search .search-result {\n  position: fixed;\n  width: 100%;\n  top: 145px;\n  bottom: 0;\n}\n",""])},532:function(e,t,r){"use strict";r.r(t);var n=r(15),a=r(12),c=r(0),s=r.n(c),o=(r(527),r(25)),i=r(50),l=r(28),h=r(27);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.default=Object(l.b)((function(e){return{musicPlayer:e.musicPlayer}}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},h))((function(e){var t=this,r=Object(c.useState)([]),n=Object(a.a)(r,2),l=n[0],h=n[1],u=Object(c.useState)(""),p=Object(a.a)(u,2),m=p[0],f=p[1],b=Object(c.useState)({}),y=Object(a.a)(b,2),x=y[0],O=y[1],d=Object(c.useState)(!1),g=Object(a.a)(d,2),j=g[0],w=g[1],v=Object(c.useState)(!1),E=Object(a.a)(v,2),k=E[0],N=E[1];Object(c.useEffect)((function(){Object(i.g)().then((function(e){h(e.data.result.hots)})),console.info("aaa",e.musicPlayer.searchHistory)}),[]);var P=Object(c.useRef)(0);function S(e){f(e),clearTimeout(P.current),""!==e?P.current=setTimeout((function(){Object(i.k)(e).then((function(e){e.data.result?O(e.data.result):O({})}))}),200):O({})}function C(t,r){console.info(m),f(t.first),e.history.push("/search/".concat(t.first))}return s.a.createElement("div",{className:"search"},s.a.createElement("div",{className:"search-box-wrapper"},s.a.createElement(o.m,{placeholder:"\u641c\u7d22",onChange:S,value:m,onSearch:function(t){e.history.push("/search/".concat(t))},onBlur:function(){w(!1)},onFocus:function(){w(!0),S(m)}})),s.a.createElement("div",{className:"shortcut-wrapper"},s.a.createElement(o.f,{className:"shortcut"},s.a.createElement("div",{className:"hot-key"},s.a.createElement("h1",{className:"title"},"\u70ed\u95e8\u641c\u7d22"),s.a.createElement("ul",null,l.map((function(e,r){return s.a.createElement("li",{className:"item",onClick:C.bind(t,e,r),key:"hots".concat(e.first)},e.first)})))),s.a.createElement("div",Object.assign({className:"search-history"},H(e.musicPlayer.searchHistory.length)),s.a.createElement("h1",{className:"title"},s.a.createElement("span",{className:"text"},"\u641c\u7d22\u5386\u53f2"),s.a.createElement("span",{className:"clear",onClick:function(){N(!0)}},s.a.createElement("i",{className:"icon-clear"}))),s.a.createElement(o.n,{list:e.musicPlayer.searchHistory,onItemDelete:function(t){e.deleteSearchHistory(t)},onItemClick:function(t){f(t),e.history.push("/search/".concat(t))}})))),s.a.createElement("div",Object.assign({className:"search-result"},H(j&&Object.keys(x).length>0)),s.a.createElement(o.p,{data:x,word:m,onItemClick:function(t,r){if(console.info(r),"songs"===r){var n="".concat(t.name," ").concat(t.artists.map((function(e){return e.name})).join(" "));f(n),e.history.push("/search/".concat(n))}else"artists"===r&&(e.history.push({pathname:"/singer/".concat(t.id),state:{artist:t}}),e.saveSearchHistory(t.name));console.info(t)}})),s.a.createElement(o.a,{text:"\u786e\u5b9a\u6e05\u7a7a\uff1f",show:k,onConfirmClick:function(){N(!1),e.clearSearchHistory()},onCancelClick:function(){N(!1)}}));function H(e){if(!e)return{style:{display:"none"}}}}))}}]);
//# sourceMappingURL=6.10ec5d1d.chunk.js.map